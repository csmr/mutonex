<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Mutonex Design Document</title>
    <style>
        /* --- 1. GLOBAL VARIABLES & RESET --- */
        :root {
            --bg-color: #f4f4f4; --paper-color: #ffffff; --text-color: #222222;
            --accent-color: #ff9614; --link-color: #000080;
            --border-color: #2a6099;
            --card-header-bg: #faa61a; --card-footer-bg: #ffdbb6;
            --font-main: "Gentium Book Basic", "Times New Roman", serif;
            --font-headings: "Helvetica Neue", "Arial", sans-serif;
            --paper-width: 210mm; --paper-min-height: 297mm;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }

        /* --- 2. LAYOUT SETUP --- */
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            /* Global Font Settings per request */
            font-family: var(--font-main);
            font-size: 16pt;
            line-height: 1.6;
            padding: 2rem 0;
        }

        .document-container {
            background-color: var(--paper-color); width: 100%; max-width: var(--paper-width);
            min-height: var(--paper-min-height); margin: 0 auto;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15); overflow: hidden;
        }

        /* --- 3. COVER PAGE STYLES (Preserved) --- */
        .cover-page {
            position: relative; height: var(--paper-min-height); display: flex; flex-direction: column;
            justify-content: center; align-items: center; text-align: center; padding: 2rem;
            background-repeat: no-repeat; background-position: center center; background-size: cover;
        }
        .cover-page::before {
            content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(255, 255, 255, 0.4); z-index: 1;
        }
        .cover-content {
            position: relative; z-index: 2; border: 4px solid var(--text-color);
            padding: 2rem 4rem; background: rgba(255, 255, 255, 0.85);
        }
        h1.main-title {
            color: var(--accent-color); font-family: var(--font-main); font-size: 4rem; font-weight: bold;
            line-height: 1.1; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 0;
            border-bottom: 0; text-shadow: -2px 3px 0px grey;
        }
        .cover-footer {
            position: absolute; bottom: 2rem; z-index: 2; font-size: 0.9rem;
            color: #ff8000;
        }

        /* --- 4. CONTENT STYLES --- */
        .content-body { padding: 25mm 20mm; }

        /* Heading Styles */
        h1 {
            font-size: 2.2rem; border-bottom: 2px solid var(--accent-color); margin-bottom: 1rem;
        }
        h2 {
            font-family: var(--font-main); color: #333; border-bottom: 2px solid var(--accent-color);
            padding-bottom: 0.5rem; margin-top: 2rem; margin-bottom: 1rem; font-size: 1.8rem;
        }
        h3 {
            font-size: 1.4rem; margin-top: 1.5rem; margin-bottom: 0.5rem; color: #444; font-weight: bold;
        }
        h4 {
            font-size: 1.3rem; font-weight: bold; margin-top: 1.5rem; margin-bottom: 0.5rem;
        }

        /* Paragraphs & Lists */
        p { margin-bottom: 1.2rem; text-align: justify; }
        ul, ol { margin-bottom: 1.5rem; padding-left: 2rem; }
        li { margin-bottom: 0.4rem; }
        a { color: var(--link-color); text-decoration: none; }
        a:hover { text-decoration: underline; }

        /* --- 5. FEATURE CARDS (Refactored from Tables) --- */
        .feature-card {
            border: 2px solid var(--border-color);
            margin: 2rem auto;
            width: 90%;
            page-break-inside: avoid;
            display: flex;
            flex-direction: column;
        }
        .feature-header {
            background-color: var(--card-header-bg);
            padding: 0.5rem 1rem;
            font-weight: bold;
            border-bottom: 2px solid var(--border-color);
        }
        .feature-body {
            padding: 1rem;
            text-align: left;
        }
        .feature-icon {
            display: block;
            text-align: center;
            font-family: "Unifont Upper", sans-serif;
            font-size: 54pt;
            font-style: normal;
            font-weight: normal;
            margin-bottom: 1rem;
            line-height: 1;
        }
        .feature-footer {
            background-color: var(--card-footer-bg);
            padding: 0.5rem 1rem;
            border-top: 2px solid var(--border-color);
            font-weight: bold;
        }

        /* --- 6. UTILITY & ILLUSTRATIONS --- */
        figure { margin: 2rem auto; text-align: center; }
        figure img { max-width: 100%; height: auto; border: 1px solid #ccc; }
        figcaption { font-size: 0.9rem; font-style: italic; color: #666; margin-top: 0.5rem; }

        .framed-utf-illustration {
            border: 2px solid var(--text-color);
            padding: 1rem;
            text-align: center;
            margin: 2rem auto;
            width: fit-content;
            min-width: 150px;
            font-size: 54pt;
            line-height: 1.2;
            font-family: "Unifont Upper", sans-serif;
        }

        /* Table of Contents cleanup */
        .toc-entry { margin-bottom: 0.5rem; }
        .toc-entry a { color: var(--text-color); }
        .toc-level-1 { margin-left: 0; font-weight: bold; font-size: 1.2rem; margin-top: 1rem;}
        .toc-level-2 { margin-left: 1.5rem; }
        .toc-level-3 { margin-left: 3rem; font-size: 0.9em; }

        /* Author Table */
        .author-table {
            width: 100%; border-collapse: collapse; margin-bottom: 2rem;
        }
        .author-table th, .author-table td {
            border: 1px solid #000; padding: 0.5rem; text-align: left;
        }
        .author-table th { background-color: var(--card-footer-bg); }

    </style>
    <link href="./gdd/cover.css" rel="stylesheet"/></head>
</head>
<body>
    <div class="document-container">

        <header class="cover-page">
            <div class="cover-content">
                <h1 class="main-title">Mutonex<br/>Design<br/>Document</h1>
            </div>
            <div class="cover-footer">
                <p>Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</p>
            </div>
        </header>

        <main class="content-body">

            <div id="TableOfContents">
                <h1>Table of Contents</h1>
                <div class="toc-entry toc-level-1"><a href="#overview">1. Overview</a></div>
                <div class="toc-entry toc-level-2"><a href="#doc-meta">1.0. Design Document</a></div>
                <div class="toc-entry toc-level-3"><a href="#authors">1.0.1. Authors</a></div>
                <div class="toc-entry toc-level-2"><a href="#synopsis">1.1. Game Synopsis</a></div>
                <div class="toc-entry toc-level-2"><a href="#narrative">1.2. Game Intro Narrative</a></div>
                <div class="toc-entry toc-level-2"><a href="#experience">1.3. Game Experience Outline</a></div>
                <div class="toc-entry toc-level-2"><a href="#concept-art">1.4. Concept Art</a></div>

                <div class="toc-entry toc-level-1"><a href="#design-goals">2. Design Goals</a></div>
                <div class="toc-entry toc-level-2"><a href="#goals-statement">2.0. Statement of Goals</a></div>
                <div class="toc-entry toc-level-2"><a href="#milestones">2.1. Milestones</a></div>

                <div class="toc-entry toc-level-1"><a href="#game-world">3. Game World</a></div>
                <div class="toc-entry toc-level-2"><a href="#base-cards">3.1. Base Feature Cards</a></div>
                <div class="toc-entry toc-level-2"><a href="#object-cards">3.2. Object Cards</a></div>
                <div class="toc-entry toc-level-2"><a href="#stories">3.3. Game Stories</a></div>
                <div class="toc-entry toc-level-2"><a href="#advanced-cards">3.4. Advanced Feature Cards</a></div>

                <div class="toc-entry toc-level-1"><a href="#mechanics">4. Game Mechanic</a></div>
                <div class="toc-entry toc-level-2"><a href="#ruleset">4.0. Ruleset Design Process</a></div>
                <div class="toc-entry toc-level-2"><a href="#calculator">4.1. Rule Calculator</a></div>
                <div class="toc-entry toc-level-2"><a href="#simulation">4.2. Exoplanet Simulation Mechanics</a></div>
                <div class="toc-entry toc-level-2"><a href="#unit-mech">4.3. Unit Mechanics</a></div>
                <div class="toc-entry toc-level-2"><a href="#build-mech">4.4. Building Mechanics</a></div>
                <div class="toc-entry toc-level-2"><a href="#soc-mech">4.5. Society Mechanics</a></div>
                <div class="toc-entry toc-level-2"><a href="#obj-mech">4.6. Object Mechanics</a></div>
                <div class="toc-entry toc-level-2"><a href="#aero-mech">4.7. Aerospace Mechanics</a></div>
                <div class="toc-entry toc-level-2"><a href="#session-mech">4.9. Session Mechanics</a></div>

                <div class="toc-entry toc-level-1"><a href="#av-design">5. Audio-Visual Design</a></div>
                <div class="toc-entry toc-level-1"><a href="#tech-design">6. Overview of the Technical Design</a></div>
                <div class="toc-entry toc-level-1"><a href="#system-design">7. System Design</a></div>
                <div class="toc-entry toc-level-1"><a href="#ui">8. User Interface</a></div>
                <div class="toc-entry toc-level-1"><a href="#nfr">9. Non-Functional Requirements</a></div>
                <div class="toc-entry toc-level-1"><a href="#testing">10. Testing Requirements</a></div>
                <div class="toc-entry toc-level-1"><a href="#deliverables">11. Deliverables</a></div>
            </div>

            <h2 id="overview">1. Overview</h2>

            <h3 id="doc-meta">1.0. Design Document</h3>
            <p>This document exists to empower <b>collaboration</b>, and describes a frame for <b>action</b>, towards a piquant game:</p>
            <ul>
                <li>game design specification</li>
                <li>computer game architecture</li>
            </ul>
            <p>Please kindly join the project if you find a section (or a collaborator) you can help with.</p>
            <p>The font for this document is Gentium Book Basic, 16 pt.</p>

            <h3 id="authors">1.0.1. Authors</h3>
            <table class="author-table">
                <thead>
                    <tr>
                        <th>Date (YYYYMMDD)</th>
                        <th>Author</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>20210930, 20211006, 20220721, 20220907</td>
                        <td>Casimir Pohjanraito</td>
                    </tr>
                </tbody>
            </table>

            <h3 id="synopsis">1.1. Game Synopsis</h3>
            <p>A multiplayer strategy on a Earth simulation game board. Boldly simple chess-like play with focus on follower units, exploration of social tactics and interactions between players.</p>
            <p>Casual strategy rules resolve winner within time and turn limits. Sessions lobby time is 3 minutes, with 12 minute in-game at roughly 40 moves with 30s turn.</p>
            <p>Game rounds start with exploration, phase one. Players then set up their home realm: followers and buildings. In third phase of game play, players form alliances, trick or compete with each other.</p>
            <p>A <i>cyber-noir</i> scenario with 2021‚Äôs tech fragments. Jets, LIDAR, fiberoptics. Real-world dynamic, units just people looking for someone to follow. No micromanaging, no RPG, or Scifi clich√©s.</p>
            <p>Biosphere feeds societies with natural resources, terrain forms movement costs and limits. Weather, sunspots and entropy effect movement, players laser radar and communications.</p>
            <p>Planet simulation stores relics and history, like classic Nethack bones-file.</p>
            <p>Mutonex is a Just For Fun &amp; Open Source Software project. Collaborators share the game production.</p>

            <h3 id="narrative">1.2. Game Intro Narrative</h3>
            <p>While the game loads, a black screen with text <i>Mutonex</i> is displayed. A voice narrates a <i>Carpe Diem</i>:</p>
            <p>‚ÄúThe life-changing decision is in every moment. To finally make most of oneself. To seize the opportunity, to become the ultimate leader. Glorious star to the masses. Throw the dice, initiate action: transcend your mortality!‚Äù Title-screen fades out into game main menu.</p>

            <h3 id="experience">1.3. Game Experience Outline</h3>
            <p>Game starts with Head Unit on the exoplanet surface. The Head must be guided to <i>explore</i> the surroundings to find resources, followers, and a suitable place to start their society.</p>
            <p>The Point-Of-View (POV) of the local terrain is seen from 3rd person aerial perspective, with Fog-Of-War (FOW).</p>

            <figure>
                <img src="./gdd/Design-Doc_html_8913723ff116b5f5.jpg" alt="H.J. Andrews Forest Lidar Point Cloud">
                <figcaption>Figure 1: H.J. Andrews Forest, Andrew Ngeow ¬© 20100913, Oregon State University, CC-BY-SA 2.0 license.</figcaption>
            </figure>

            <p>The rendering style is the Point Cloud Lidar (PCL), as in Figure 1. The POV &amp; FOW move with Head Unit, much like how a person would sense (see and hear) a terrain around them. First persons view, seen from 3rd person.</p>
            <p>Ambient-soundtrack sets a calm seashore or forest rain sonic scene.</p>
            <p>Near the <i>spawn point</i> resources and npc-buildings are generated, 3 by default. Buildings have units that live and work nearby. Head must attempt to charm units, in order to convert them to followers of their society. In the POV, Buildings and Units have a flat color, outlining silhouette.</p>
            <p>Once Head has a follower, they can <i>initiate building</i>, entering phase 2 of the gameplay: building their realm.</p>

            <figure>
                <img src="./gdd/Design-Doc_html_1999c95068037ff9.jpg" alt="Lidar Ray">
                <figcaption>Figure 2: LIDaR Ray by David Lindes ¬© 202130225 Creative Commons CC-BY-NC-SA 2.0.</figcaption>
            </figure>

            <p>The first and primary building for players society is tall building called Power Structure, which confers a huge step forward for the player: a full Line-Lidar View (LLV). See Figure 2.</p>
            <p>With this <i>first LLV upgrade</i>, the render POV transitions to the top of Power Structure! As a result, the players POV grows to area with diameter of about 100 km. This is Power Projection and depends on Power Structure height.</p>
            <p>Position of players Power Structure and buildings in relation to terrain, resources and other societies is another important part of Mutonex tactics. Power Structure converts mineral resources to bonuses.</p>
            <p>All buildings add their sight radius to players POV, and it is the primary vision into what is happening on the exoplanet, aside from player and society communications.</p>
            <p>Units decide their actions autonomously. Units have specific velocities and sight radius, so their actions take time and have limits.</p>
            <p>Head-unit can charm, set building initiative or a policy command for follower units. With this, player can change the followers attitudes, area of action and capability.</p>
            <p>Once player has set up their buildings in the realm, it is likely other players have managed to do so as well, soon they will learn each others whereabouts.</p>
            <p>Power Structure also produces another gadget: a <i>video-phone</i>. Players can then invite known society Chiefs to a <i>online meet</i>, where participants vote on alliances: to join or cease alliance. If the video-phone is not disabled by the sunspots ‚Äì which doesn‚Äôt happen if the player has Sunspot Cream.</p>
            <p>Meeting is a two-edged sword: while one can forge alliances, meeting exposes the participants to charms of others, as well! Player can lose follower charmed by the presence of another Head (or Chief).</p>
            <p>Game session continues as players build their realm, where they ally, charm, share objects like Lidar upgrades, Airpower or Sunspot Cream, and command units to defend, attack or hide. Endless tactics emerge, thirst for victory can begin.</p>

            <figure>
                <img src="./gdd/Design-Doc_html_4dd053a5f5d86d89.jpg" alt="Online Meeting Concept Art">
                <figcaption>Figure 3: Online Meeting: Head standing before Chiefs on screens, Concept Art for Mutonex, Casimir Pohjanraito ¬© 20221014.</figcaption>
            </figure>

            <p>Mutonex can be gamed with RTS-style resource optimization and unit placement strategy, but core gameplay is based on charming key societies and alliances, with video-phone remote charming.</p>

            <h3 id="concept-art">1.4. Concept Art</h3>
            <p>To ignite your imagination, here's some concept art.</p>
            <figure>
                <img src="./gdd/Design-Doc_html_cb1d774f3cf98845.jpg" alt="Activist unit near Power Structure">
                <figcaption>Figure 3: Activist unit near a Power Structure, Concept Art for Mutonex, Casimir Pohjanraito ¬© 20220824.</figcaption>
            </figure>

            <h2 id="design-goals">2. Design Goals</h2>

            <h3 id="goals-statement">2.0. Statement of Goals</h3>
            <p><u>Casual game-play experience for grown-ups:</u></p>
            <ul>
                <li>hundreds of emergent tactics, non-technical gameplay.</li>
                <li><i>If I wanted to micromanage, I‚Äôd get a real job!</i></li>
                <li><i>You don‚Äôt have to be Einstein! But if you are, you can.</i></li>
                <li>Accessible, Visual, Non-textual, WGAC 2.1 standard.</li>
                <li>Browser client.</li>
            </ul>

            <p><u>Cyber Noir - atmosphere:</u></p>
            <ul>
                <li>Orange LIDAR representation of a sim-planet continent.</li>
                <li>Leave most of the World to imagination, visually.</li>
                <li>Soothing ambient sound environment.</li>
            </ul>

            <p><u>Exploration &amp; multiplayer interactions:</u></p>
            <ul>
                <li>explore simulation, build a society, act out social interactions</li>
                <li>dynamic positions, alliance, cooperation</li>
                <li>meaningful ‚Äúthe next level‚Äù game play past resource optimization tact.</li>
            </ul>

            <p><u>Just For Fun project for contributors:</u></p>
            <ul>
                <li>provide platform: enable approachable high value project.</li>
                <li>contributors earn dynamic ownership of project.</li>
            </ul>

            <h3 id="milestones">2.1. Milestones</h3>
            <p><b>Milestone 1</b><br/>Repository, Design Document, rule calculator, concept art, game and UI specs.</p>
            <p><b>Milestone 2</b><br/>Game rules, game logic and UI, minimal game engine.</p>
            <p><b>Milestone 3</b><br/>Game visual &amp; audio production, Game Engine with Exoplanet Simulation.</p>
            <p><b>Milestone 4</b><br/>Multiplayer Game Server, Exoplanet Simulation Server, Authentication Server.</p>

            <h2 id="game-world">3. Game World</h2>

            <h3 id="base-cards">3.1. Base feature cards</h3>
            <p>With a <i>title</i>, a <i>narrative</i> and <i>effects.</i></p>

            <div class="feature-card">
                <div class="feature-header">Exoplanet Sim</div>
                <div class="feature-body">
                    <span class="feature-icon">üåê</span>
                    <p>Just simulated Earth, really. This serves simulated terrain for map grid. Includes solar, orbital, biosphere and weather effects. Terrain is Earth geodata.</p>
                </div>
                <div class="feature-footer">terrain, date</div>
            </div>

            <div class="feature-card">
                <div class="feature-header">Game Session</div>
                <div class="feature-body">
                    <span class="feature-icon">ü§º</span>
                    <p>A game session is started once players have voted on session setup. A session runs within set time limit and victory rules.</p>
                </div>
                <div class="feature-footer">Setup rule, time limit, victory rule, players</div>
            </div>

            <div class="feature-card">
                <div class="feature-header">Sector</div>
                <div class="feature-body">
                    <span class="feature-icon">‚ñ®</span>
                    <p>A sector is an arbitrary area of terrain on the game board where terrain, buildings and units are positioned. For example 60¬∞00'N 20¬∞00'E-70¬∞00'N 30¬∞00'E, simplified as planar quads of abstract UV-sphere.</p>
                    <p>Sectors determine amount of sunshine, mineral, biosphere and movement multipliers that effect societies and units.</p>
                </div>
                <div class="feature-footer">coordinates, weather, insolation, resources</div>
            </div>

            <div class="feature-card">
                <div class="feature-header">Building</div>
                <div class="feature-body">
                    <span class="feature-icon">üèõ</span>
                    <p>Building are the home for societies units. Each building may have specific functions, such as converting resources to charm or sight.<br/>History: build year &amp; style (society).</p>
                </div>
                <div class="feature-footer">position, sight area, function, chief</div>
            </div>

            <div class="feature-card">
                <div class="feature-header">Society</div>
                <div class="feature-body">
                    <span class="feature-icon">üé™üèòüèô</span>
                    <p>Societies live on the Exoplanet. Each player also sets out to start their own society.</p>
                    <p>Societies have homes: a building or a power structure. Some even live in ancient relic buildings.<br/>Societies have ethnicity (locale from language locales), that units inherit.</p>
                </div>
                <div class="feature-footer">home, ethnicity</div>
            </div>

            <div class="feature-card">
                <div class="feature-header">Fauna (Society)</div>
                <div class="feature-body">
                    <span class="feature-icon">üå±ü¶óüå≤</span>
                    <p>Fauna is the biosphere of each Sector. Faunas home is the sector (no building required).</p>
                    <p>Fauna have fauna-ethnicity and spawn Fauna Units. Neither follow the rules for human Societies or Units, but they do have effects on game-play. Fauna cannot be charmed.</p>
                </div>
                <div class="feature-footer">sector</div>
            </div>

            <div class="feature-card">
                <div class="feature-header">Mineral</div>
                <div class="feature-body">
                    <span class="feature-icon">‚≠ì‚¨†</span>
                    <p>Resources, when collected with a Conveyer Belt object into buildings by follower units, allow players to to generate bonuses and modifiers, as function of building, unit and resource.</p>
                </div>
                <div class="feature-footer">position, type</div>
            </div>

            <div class="feature-card">
                <div class="feature-header">Unit</div>
                <div class="feature-body">
                    <span class="feature-icon">üë∑ü§ñüßï</span>
                    <p>A unit is born into societies buildings. They can be charmed by societies Heads or Chiefs, to join another society. Units can build, harvest or wander or attack ‚Äì as set by society policy.<br/>Unit history: birth society, growth tribe (table of elements) or tribeless, and identity of flavor (CSS basic color names).</p>
                </div>
                <div class="feature-footer">position, sight area, home, society, history</div>
            </div>

            <div class="feature-card">
                <div class="feature-header">Chief (Unit)</div>
                <div class="feature-body">
                    <span class="feature-icon">êáíîêâîêè</span>
                    <p>Chief units are building and society bosses. So charming on video!</p>
                    <p>For non-player societies, the NPC-Head is called <i>Chief</i>. Chief is simply the highest charm unit of the building, sometimes their society.</p>
                    <p>Chiefs history is recorded into building relics.</p>
                </div>
                <div class="feature-footer">charm, build, tribe, flavor</div>
            </div>

            <div class="feature-card">
                <div class="feature-header">Head (Unit)</div>
                <div class="feature-body">
                    <span class="feature-icon">üßôêáëêáí</span>
                    <p>Head unit are players character. Has a keen eye and scout training.</p>
                    <p>Heads can charm units, initiate building and set policy. For non-player societies, the NPC-Head is called <i>Chief</i>.</p>
                    <p>Their title is ‚ÄúHead Of Society-name‚Äù. Heads history is recorded into building relics.</p>
                </div>
                <div class="feature-footer">charm, build, tribe, flavor</div>
            </div>

            <h3 id="object-cards">3.2. Object Cards</h3>
            <p>Most verbs, actions and abilities are likely to be simplest to model as object cards. Careful not to allow giving away units base abilities.</p>

            <div class="feature-card">
                <div class="feature-header">Charm (modifier object)</div>
                <div class="feature-body">
                    <span class="feature-icon">‚ú®</span>
                    <p>Enables unit to choose from charm -action. On success, the target will join same society.</p>
                </div>
                <div class="feature-footer">charm</div>
            </div>

            <div class="feature-card">
                <div class="feature-header">Build (modifier object)</div>
                <div class="feature-body">
                    <span class="feature-icon">‚öí</span>
                    <p>Enables unit to choose from build -action. On success, the target will get more completion points.</p>
                </div>
                <div class="feature-footer">build</div>
            </div>

            <h3 id="stories">3.3. Game Stories</h3>
            <p>These stories illustrate the game flow.</p>
            <p>Game Design goals: explore, build, interact in a planet simulation. Game rules function to set up three main phases of game dynamic organically, further outlined in next paragraphs.</p>

            <h4>3.3.1. Background Story</h4>
            <figure>
                <img src="./gdd/Design-Doc_html_ccd397759a15fd98.jpg" alt="Space Debris">
                <figcaption>Figure 3: Space debris, Zanpei ¬© 20070201, CC BY-ND 2.0.</figcaption>
            </figure>
            <p>Last winter a failing sentinel satellite triggered several small-scale orbital nuclear strikes, from our own automated Missile Defence. Their targets were satellite constellations.</p>
            <p>Explosions sparkled across the Exoplanet sky for a brief moment. Then the lights went out. An EMP blast. Suddenly all electronics were dead.</p>
            <p>That night the dead remains of satellites rained down on the starry sky like a million shooting stars, as we hunkered down in the unannounced cold darkness.</p>
            <p>Set us back 100 years. Like its the early 20th Century again, with fragments of 2021 solid-state technology: we still have jets, lidar-radar and fiberoptics.</p>
            <p>On screen, Chief says the World had a reset. That we live the new Dark Ages, that only Chief can help us.</p>
            <p>Its not a comic or pretty picture. But its really not that grim. Chiefs image is glitchy but not vague on the laser-video.</p>
            <p>Goodbye, Chief. You people no longer call the shots. We have our own circus now. The game grows twisted. Only the strongest Heads prevail here.</p>

            <h4>3.3.2. Abstract Game Session Story</h4>
            <p>Players want to relax for a moment, so they browse to Mutonex.</p>
            <p>Players meet in game lobby. Game starts after voting on session setup.</p>
            <p>Players spawn, to initially <i>explore</i> terrain, to encounter and charm <i>follower units</i>.</p>
            <p>Followers are used to <i>build</i>, and set up a power structure. Power structure allows to set up a <i>home realm</i> with a network of resources, buildings and followers: area of power projection.</p>
            <p>Power projection enables sight and <i>Player interaction</i>: alliances, follower charming, and unit policy commands alter the attitude of the follower units. This alters power projection shape and outcome. Game ends at <i>time limit</i>, or at <i>victory rule</i>. Endgame lobby presented for one minute. Relics, history and scores saved.</p>

            <h4>3.3.3. Simple In-Game Story</h4>
            <p>Ann, Jon and Tai want to relax, so they start into a game, each at random Sector within planet surface. At the mercy of nature and local societies, they must build home realm.</p>
            <p><b>In phase 1, exploration</b>, Ann explores and in 3 <i>moves</i> encounters a nearby french society, and manages to <i>charm</i> their red potassium folk, gaining <i>follower units</i>.</p>
            <p><b>Entering game phase 2, building</b>, Ann then commands followers to build a home realm, with a nice <i>power structure</i> strategically between a <i>mineral source</i> and a mountain range covering their power structure on Tai side.</p>
            <p>Now Ann has area of <i>power projection</i>, following from setup of buildings and followers.</p>
            <p><b>They enter phase 3, interactions</b> with other players.</p>
            <p>Ann attempts to charm the french cyan helium folk, located just outside their realm. But the more charming Jon also does, who cyan helium's follow instead! Jons power projection expands, and Ann loses their mineral source to Jon!</p>
            <p>Desperate for revenge, Ann commands <i>unit policy</i> to aggressive, making them attack on local area. But Jon has <i>allied</i> with Tai, who has <i>airpower</i> unit.</p>
            <p>As Ann‚Äôs units <i>attack</i> nearby Jon units, Tai‚Äôs units join to defend their ally, and their airpower <i>disables</i> Ann units. Jon takes over Ann‚Äôs realm in just 3 moves.</p>
            <p>Left with only their Head-unit inside Jon power projection, Ann quits, their unit becomes an ordinary npc-unit. Tai then seeks to charm the resulting extra unit, Tai‚Äôs Head traveling around a mountain range.</p>
            <p>Meanwhile, Jon sees Tai‚Äôs units in their Lidar, then enters Tai‚Äôs area, and charms all units, as Jon has the largest power structure. Tai doesn‚Äôt react in time to break up their alliance, as they focus on charming the landless npc-unit resulting from Ann quitting.</p>
            <p>Jon wins. All players receive a score. Buildings are stored as game relics and (some) unit histories are stored in the simulation instance.</p>

            <h3 id="advanced-cards">3.4. Advanced Feature Cards</h3>
            <p>From stories in previous sections, we get the following cards.</p>

            <div class="feature-card">
                <div class="feature-header">Power Structure (Building)</div>
                <div class="feature-body">
                    <span class="feature-icon">üè∞</span>
                    <p>Power structure connects buildings and units, creating Projection. Has LIDAR, producing sight.</p>
                    <p>Power structure is the fundamental building for Players and Societies. Sector insolation and minerals give it bonuses.</p>
                </div>
                <div class="feature-footer">solar panel, lidar, fiber</div>
            </div>

            <div class="feature-card">
                <div class="feature-header">Airpower (Unit)</div>
                <div class="feature-body">
                    <span class="feature-icon">‚úà</span>
                    <p>Airpower unit simply disables competing follower units inside a sector. It does not destroy units, but units cannot patrol, move or work resources. Airpower units can attack airpower.</p>
                </div>
                <div class="feature-footer">sector, disable sector units</div>
            </div>

            <div class="feature-card">
                <div class="feature-header">LIDAR (modifier object)</div>
                <div class="feature-body">
                    <span class="feature-icon">‚èø</span>
                    <p>Lidar is a laser beam <i>radar</i>, and gives a certain <i>sight</i> radius and resolution to a Player or Society.</p>
                    <p>Lidar is always at the top of a Power Structure. In effect, lidar samples the environment geometry, and produces the graphical view of the World.</p>
                </div>
                <div class="feature-footer">sight radius, lidar type, power structure</div>
            </div>

            <div class="feature-card">
                <div class="feature-header">Video-phone (modifier object)</div>
                <div class="feature-body">
                    <span class="feature-icon">üìü</span>
                    <p>Video-phone enables a Player to summon a meeting with any known Society.</p>
                    <p>A meeting is a vote on alliance (join/leave) and round of charm -challenge between all participants.</p>
                </div>
                <div class="feature-footer">meeting</div>
            </div>

            <div class="feature-card">
                <div class="feature-header">Conveyor Belt (modifier object)</div>
                <div class="feature-body">
                    <span class="feature-icon">üõ§</span>
                    <p>An endless conveyor belt that moves minerals. Connects the minerals to society.</p>
                </div>
                <div class="feature-footer">Resource stream</div>
            </div>

            <div class="feature-card">
                <div class="feature-header">Policy for Society Units (modifier object)</div>
                <div class="feature-body">
                    <span class="feature-icon">üì∞</span>
                    <p>Policy is how follower units can be commanded, aside from network of buildings and resources.</p>
                    <p>Policy sets the area units attempt to control, and the attitude. Aggressive policy makes units attack other societies units. Defensive or evasive policy makes units passive, or hide.</p>
                </div>
                <div class="feature-footer">unit policy</div>
            </div>

            <div class="feature-card">
                <div class="feature-header">Sunspot Cream (modifier object)</div>
                <div class="feature-body">
                    <span class="feature-icon">üçØ</span>
                    <p>Prevents effects from Sunspot Activity for a short period of time.</p>
                </div>
                <div class="feature-footer">entropy (sunspot)</div>
            </div>

            <div class="feature-card">
                <div class="feature-header">Fiber (modifier object)</div>
                <div class="feature-body">
                    <span class="feature-icon">üß∂</span>
                    <p>A fiber optic line. Connects the building to a Power Structure.</p>
                </div>
                <div class="feature-footer">sight</div>
            </div>

            <div class="feature-card">
                <div class="feature-header">Attack (modifier object)</div>
                <div class="feature-body">
                    <span class="feature-icon">ü§∫</span>
                    <p>Enables unit attack action, to attack other units and buildings.</p>
                </div>
                <div class="feature-footer">attack</div>
            </div>

            <p>Feature cards end here.</p>

            <h2 id="mechanics">4. Game Mechanic</h2>
            <figure class="framed-utf-illustration"><span>‚≠ú‚Öã‚¨¨</span></figure>
            <p>The stories outlined the features, which are documented above as Feature Cards. The game mechanic defines properties to procure a idealized Earth-like ruleset.</p>

            <h3 id="ruleset">4.0. Ruleset Design Process</h3>
            <p>Mutonex game rules are formed iteratively. Open world simulation is not a game, as such. With concepts developed during writing of this section, Rule Calculator tests are written, influenced by planet simulation physics. The outcome is rulesets, and then design iteration can start again.</p>
            <p>Ideally, rulesets are decoupled from game engine. Rules could be defined in a human-readable Rule file written in YML or a dedicated DSL.</p>
            <p>The Rule file has named rulesets, which players can choose from in the game lobby. Contributors can then modify rulesets, and generate alternate versions of game rules, with minimal changes to the game engine logic.</p>

            <h3 id="calculator">4.1. Rule Calculator</h3>
            <figure class="framed-utf-illustration"><span>üéõüëà</span></figure>
            <p>A simple program that calculates outcomes of game rules, given certain parameter ranges. Once changed, rules can be re-checked with the same Rule Calculator.</p>

            <h4>4.1.1. Rule Calculator Spec</h4>
            <p>In order to set base rules and refine playability, requirement is to calculate game time limits, simulation physics effect size, and building/unit limits:</p>
            <ul>
                <li>Time-limit vs Movement Turns: Number/time of moves required to visit of 33% of Sectors ‚Äì ensure it is possible to complete average game within time limit.</li>
                <li>Lidar resolution: the rendering elevation interval, and polygonal resolution, to ensure clear visuals.</li>
                <li>Movement cost: negative multiplier from elevation and terrain (ie. mountains limit movement).</li>
                <li>Polar latitude cost: negative multiplier from declination (ant/arctic is hard).</li>
            </ul>
            <p>In order to adjust the simulation dynamics, Rule Calculator is required to calculate:</p>
            <ul>
                <li>Solar Insolation energy conversion: minimum % into Power Structure energy to sustain society.</li>
                <li>Entropy effect: probability of lost signal for sight and signals (noisy but not too noisy).</li>
                <li>Power projection size: how far from players Powerstructure they can reach, for small, medium and large resource+unit -network.</li>
                <li>Unit attack -challenge for a building inside power projection size N, to ensure it is possible to conquer.</li>
            </ul>
            <p>Rule Calculator could be a simple web-page or a ruby program that outputs results as formatted HTML table or SVG graphs.</p>
            <p>The source-of-truth for game spec and rules eventually shifts from this document to the ruleset calculator source, optimally during Milestone 2, and this design doc will have then served its purpose as a log of game design process.</p>

            <h3 id="simulation">4.2. Exoplanet Simulation Mechanics</h3>
            <h4>4.2.2. Orbital Mechanics</h4>
            <figure class="framed-utf-illustration"><span>üöÄüåè</span></figure>
            <p>Given a date, the Exoplanet Simulation calculates the planet position, on an ideal elliptical orbit around the Sun.</p>
            <p>At least level of detail, for the day, the distance from Sun, and planets orbital inclination are calculated. Used for insolation math.</p>

            <h4>4.2.3. Orbital Debris Cataclysm Generator</h4>
            <p>As described in the chapter 3.3.1. Background story, the nuclear blasts on the orbit have destroyed whole constellations of satellites. This debris re-enters the atmosphere, containing remains of nuclear missiles and satellite reactors.</p>
            <p>The simulation logic generates an cataclysm-event on the later half of the game session. In effect the re-entry of the dangerous orbital debris, causes a nuclear winter effect.</p>
            <p>Random locations on the Exoplanet have nuclear waste fallout effects, a small nuclear blast effect, or both effects.</p>

            <h4>4.2.4. Sector Grid Properties</h4>
            <p>Default grid for the simulation is 36*18, implying similarity with 10 degree Earth latitude/longitude subdivision into quad-grid.</p>
            <p>If computational budget of the system allows for it, the sector properties may be further subdivided.</p>
            <p><b>Elevation Map</b><br/>An elevation map: the terrain elevation shape.</p>
            <p><b>Insolation</b><br/>The amount of sunshine: the measure of the solar input, per area unit.</p>
            <p>Based on real Earth orbital mechanics, and depends on both the date, time of day, and the latitudinal position of the Sector.</p>
            <p>For purposes of the game mechanic, calculating the average insolation for the center point of the Sector is likely to be accurate enough.</p>
            <p><b>Weather Generator</b><br/>The temperature and the probability of Random Weather Event, like snowstorms.</p>
            <p>Brutally simple weather generation, the temperature for current Sector depends primarily on the insolation, latitudinal position of the sector, and the average of elevation map, with secondary bias from of 3x3 average of surrounding sectors insolation.</p>
            <p>Reflect the fact that for every 1000 m of elevation, average temperature 5 C degrees colder.</p>
            <p><b>Resource Streams</b><br/>Each Sector has mineral resources, and if mineral-building has a conveyor belt, generates a resource stream.</p>

            <h4>4.2.5. Latitude Movement Multiplier</h4>
            <p>The closer units are to the poles of the Exoplanet, the higher the movement cost due to demands of weather conditions.</p>
            <p>Latitude Movement Multiplier might equal floored tenth of a N/S latitude degree.</p>

            <h3 id="unit-mech">4.3. Unit Mechanics</h3>
            <figure class="framed-utf-illustration"><span>üßùüê£</span></figure>
            <p>This is the initial specification for unit properties.</p>
            <p>Only Head units can be controlled. Local and Chief units are NPCs.</p>
            <p>All units rest for 8 hours a day.</p>
            <p><b>4.3.1. Local units</b></p>
            <p>Has a noise-based movement pattern, an action or two, and a society Chief that they follow.</p>
            <p>Local units travel at 80 km h, and work 8 hours a day.</p>
            <p>Local units can convert resource stream or society resources into building completion.</p>
            <p>Local units NPC logic selects actions <i>randomly</i> from their action list, and the action list sets <i>weighted probability</i> for each action, based on Unit Policy and Unit type.</p>
            <p><b>4.3.2. Activist units</b></p>
            <p>Has a direct movement pattern. Activist units have an attack action (or object representing this action).</p>
            <p>Activist units travel at 100 km h, and work 10 hours a day.</p>
            <p>Activist units can defend society area by attacking offending units. Also can destroy competitors buildings that are within their patrol area.</p>
            <p><b>4.3.3. Chief units</b></p>
            <p>The most charming Local unit in society building, they have the charm action (object). They automatically attempt to charm nearby units.</p>
            <p>Chiefs may or may not be charmed or following some unit, but typically they are followers of the local societies.</p>
            <p>Chiefs travel at 110 km h, and work 12 hours a day.</p>
            <p><b>4.3.4. Head units</b></p>
            <p>Head units are the players sight and hand in the World. They can be directed to travel to a position, to charm and to use an object.</p>
            <p>Head units travel at 120 km h, for 14 hours a day ‚Äì roughly one optimum equatorial Sector per day. Has 10 km sight radius, given no obstacles.</p>
            <p><b>4.3.5. Air Power units</b></p>
            <p>Air Power units can be used to disable local and activist units in an area. They can be directed to patrol a position, and to use an object.</p>
            <p>Air Power cannot be charmed.</p>
            <p>Air Power units travel at 220 km/h, for 1 hour a day, and will activate the disabling effect within patrol area when any non-allied unit enters the patrol area. Has 50 km sight radius, given no obstacles.</p>

            <h3 id="build-mech">4.4. Building Mechanics</h3>
            <figure class="framed-utf-illustration"><span>üößüèóÔ∏è</span></figure>
            <p><b>4.4.1. Building</b></p>
            <p>Buildings collect solar power and biosphere bonus from Sector, and turn these into Units. Automatically attempts to assigns units to build fiber to the Power Structure.</p>
            <p>Buildings give units and modifiers. Each building has an Chief, that owns the building and its units.</p>
            <p>Buildings share sight radius to players, once connected to Power Structure with fiber.</p>
            <p>Buildings contain history about their builder and a style property according to this builder (f.ex. Danish style building).</p>
            <p>Buildings geometry is generated with a geodesic dome randomizer.</p>
            <p><b>4.4.2. Conveyor Belt</b></p>
            <p>Sectors have minerals, which can generate a resource stream once players has initiated and finished building a conveyor belt.</p>
            <p><b>4.4.3. Power Structure</b></p>
            <p>Enables Lidar Sight. Enables Power Projection.</p>
            <p>Enables resource stream collection and direction.</p>
            <p>Power structure geometry is generated with a L-System randomizer.</p>

            <h3 id="soc-mech">4.5. Society Mechanics</h3>
            <figure class="framed-utf-illustration"><span>üôãüé≠</span></figure>
            <p>Head or Chief, and followers and a complete power structure form a society. A society is the guiding light for the follower units.</p>
            <p>A society enjoys resource streams, it is the object which receives minerals.</p>
            <p><b>4.5.1. Follower charming</b></p>
            <p>All adjacent Sub-sector units except Heads can be charmed, given enough charm. Charm is a combination of society‚Äôs Power projection plus other factors.</p>
            <p>The charmed units join the charmers society. All the charmed units buildings and followers also join the society of the charmer.</p>
            <p>Only thing stopping charm is distance, but followers can be charmed during video meetings as well.</p>
            <p><b>4.5.2 Unit policy</b></p>
            <p>All followers follow the same Chief or Head, therefore they can only follow one unit policy, and have membership of only one Society.</p>

            <h3 id="obj-mech">4.6. Object Mechanics</h3>
            <p>Players can trade object cards, but generally only the cards that represent in-game objects.</p>
            <p>Logically, object cards that are used to represent character, building properties, or unit skills should not be traded.</p>
            <p>These untradable cards should have <i>notrade</i> property set <i>true by default.</i></p>

            <h3 id="aero-mech">4.7. Aerospace Mechanics</h3>
            <p>Tba</p>

            <h3 id="session-mech">4.9. Session Mechanics</h3>
            <p>This outlines the <i>ideal session</i>. The scenario: the players wanted to relax with a casual strategy game; browsed to Mutonex.</p>
            <p><b>Game Session List</b></p>
            <p>List is shown once the player has setup their name. List of open sessions with open player slots, with [JOIN] button. Game Server outputs this list.</p>
            <p><b>Session Lobby</b></p>
            <p>Join -button takes player here. Lobby includes a timer, a text about the game session ruleset, and the list of options to vote on with Yes and No options for each. Once lobby timer is zero, or all players have voted, game starts.</p>
            <p>The indicated vote ruleset contains ON/OFF for these options:</p>
            <ul>
                <li>Victory on Last Powerstructure Standing
                    <ul><li>Player must capture others Powerstructure</li></ul>
                </li>
                <li>Victory on Head Of Chiefs
                    <ul><li>Player must charm others Chiefs</li></ul>
                </li>
                <li>Fast mode: disables turns, players input at 1 action per second maximum rate.</li>
                <li>Beginner mode: 1 minute maximum in-game turn.</li>
                <li>Turn Per Day: 24 h long in-game turns.</li>
            </ul>
            <p><b>In-game</b></p>
            <p>The game runs its course until victory rules or time limit.</p>
            <p><b>Scoreboard</b></p>
            <p>The game score is displayed for the players, about 15 minutes after the player arrived. This time is about 30 minutes players who vote for Beginner mode, and about 5-6 weeks for Turn Per Day fans.</p>

            <h3>4.9. Temporal Mechanics</h3>
            <p><b>4.9.1. Session length</b></p>
            <p>Spec in-game length should be close to 12 minutes, with typical turn length of ~20 seconds. Once all players have initiated action or turn length reached, turn passes and next turns timer starts.</p>
            <p>As game session length grows past 15 minutes in length, it may no longer be casual. However, beginning players may want to explore the game at a more leisurely pace. Therefore the game should include a ‚Äúnewbie game mode‚Äù, where game length should be close to 24 minutes, turn length is 1 minute.</p>
            <p>Turn Per Day is intended for super-casual players. This design feature specifies an game scenario, where players make only one turn per day.</p>
            <p><b>4.9.2. Turn length</b></p>
            <p>One turn is the maximum time for the player to initiate their action.</p>
            <p>Default turn length is 17 seconds: in-game allows one action per 17 s turn. Beginner mode doubles turn length seconds. Fast mode disables turns.</p>
            <p><b>4.9.3. Simulation Time</b></p>
            <p>In an arbitrary story, a 42 turn game where Head Unit travels a million kilometers would represent two years of simulation time.</p>
            <p>One turn might be construed to equal up to 20 days of in-game Game World time.</p>

            <h2 id="av-design">5. Audio-Visual Design</h2>
            <p>Most of the detail outlined in the section 1.3. Game experience outline is the spec at the moment.</p>
            <p>Once design and implementation has been resolved, this section may be expanded.</p>

            <h2 id="tech-design">6. Overview of the Technical Design</h2>
            <p>Technology Overview</p>
            <p>Browser client</p>
            <ul>
                <li>in-game 3D view</li>
                <li>Menu System</li>
                <li>Exported functions for Exoplanet Sim</li>
                <li>Exported functions for game session</li>
                <li>Guidebook</li>
            </ul>
            <p>Multiplayer Game server</p>
            <ul>
                <li>Just maintains the Index of game sessions</li>
                <li>Index of authenticated clients</li>
                <li>Index of client BB and move vectors</li>
                <li>Functions for validating client session</li>
                <li>Functions for validating move vectors</li>
            </ul>
            <p>Exoplanet Simulation server</p>
            <ul>
                <li>Simulation Expression Module Factory: consumes game session rulesets, generates function to resolve sector state for in-client-eval</li>
                <li>Public API for storing game session relic</li>
            </ul>
            <p>Mutonex Authority</p>
            <ul>
                <li>index of registered users</li>
                <li>index of valid sessions</li>
                <li>public API to challenge session validity</li>
            </ul>
            <p>Mutonex Scoreboards</p>
            <p>Module description</p>
            <p>Issues and dependencies</p>

            <h2 id="system-design">7: System Design</h2>
            <p>To be specified.</p>

            <h2 id="ui">8: User Interface</h2>
            <p>Basic UI contains view of the game world at center, around which are, clockwise from top left:</p>
            <ul>
                <li>Status symbol for player state</li>
                <li>Game Menu icon and elapsed game session time</li>
                <li>Inventory with symbols of tradeable objects</li>
                <li>Interact and Policy Menu</li>
            </ul>
            <p>Player can leave the game session at any time from Game Menu.</p>
            <p>Interact menu contains enabled actions, such as charm and video meet.</p>
            <p>Policy menu allows the player to change the current Policy for Society units.</p>
            <p><b>8.1. UI Graphic Design</b></p>
            <p>UI concept drafts are the initial spec for the user interface graphical layout.</p>
            <p><b>8.2. User Interface Accessibility</b></p>
            <p>Mutonex game UI conforms to WGAC 2.1 standard in terms of button, font and symbol sizes, and color contrasts.</p>
            <p>Users are able to increase button, font and symbol sizes, to enable convinience for people with reduced vision.</p>
            <p>Users are able to change the default colors for units and symbols, as this feature enables people with alternate color vision to set colors they are able to differentiate between.</p>

            <h2 id="nfr">9: Non-Functional Requirements</h2>
            <p>Accessibility</p>
            <p>licensing</p>
            <p>language</p>
            <p>security</p>
            <p>other requirements.</p>

            <h2 id="testing">10: Testing Requirements</h2>
            <p>(Content pending)</p>

            <h2 id="deliverables">11: Deliverables</h2>
            <p>Procedure</p>
            <p>timetable</p>
            <p>deliverables</p>
            <ul>
                <li>Web Client</li>
                <li>Web Game Guide
                    <ul>
                        <li>Game guide is the gaming instructions for the players. It describes the generic in-game rules.</li>
                        <li>Game guide should include cards for game buildings, modifiers and units, much like feature cards in this section. Game guide then also serves as documentation on the implemented rule set.</li>
                        <li>Its content is generated at game client build time from Game Rule file, Game World classes and Game Guide templates.</li>
                    </ul>
                </li>
                <li>Game Server Docker Image</li>
                <li>Game Auth Docker Image</li>
                <li>Planet Sim Docker Image</li>
            </ul>

            <h1 style="text-align: center; border: none; margin-top: 4rem;">Mutonex Design Document end</h1>
        </main>
    </div>
</body>
</html>
